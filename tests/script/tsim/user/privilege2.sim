system sh/stop_dnodes.sh
system sh/deploy.sh -n dnode1 -i 1
system sh/exec.sh -n dnode1 -s start
sql connect

print =============== show users
sql create database d1 vgroups 1;
sql create database d2 vgroups 1;
sql create database d3 vgroups 1;
sql show databases
if $rows != 5 then 
  return -1
endi

print =============== create users
sql create user user1 PASS 'taosdata'
sql create user user2 PASS 'taosdata'
sql show users
if $rows != 3 then 
  return -1
endi

sql GRANT read ON d1.* to user1;
sql GRANT write ON d2.* to user1;

print =============== re connect
sql close
sleep 2500
print user user1 login
sql connect user1

sql_error drop database d1;
sql_error drop database d2;

sql_error create stable d1.st (ts timestamp, i int) tags (j int)
sql create stable d2.st (ts timestamp, i int) tags (j int)

system sh/exec.sh -n dnode1 -s stop -x SIGINT